(function(){var a;a=function(a){var b;return b=$({}),function(c){var d,e,f,g,h;return f=void 0,e=$.Deferred(),g=e.promise(),h=function(b){return f=a(c),f.done(e.resolve).fail(e.reject).then(b,b)},d=function(a){var d,i;return f?f.abort(a):(i=b.queue(),d=[].indexOf.call(i,h),d>-1&&i.splice(d,1),e.rejectWith(c.context||c,[g,a,""]),g)},b.queue(h),g.abort=d,g}},window.AjaxQueue=a}).call(this),function(){var a,b,c=function(a,b){return function(){return a.apply(b,arguments)}};(b=window.location).origin||(b.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),a=function(){function a(a){null==a&&(a={}),this.getCurrentProductWithVariations=c(this.getCurrentProductWithVariations,this),this.setProductWithVariationsCache=c(this.setProductWithVariationsCache,this),this.getProductWithVariations=c(this.getProductWithVariations,this),a.hostURL&&(b=a.hostURL),this.ajax=a.ajax?a.ajax:window.AjaxQueue?window.AjaxQueue($.ajax):$.ajax,this.promise=a.promise||$.when,this.cache={productWithVariations:{}}}var b;return b=window.location.origin,a.prototype.getProductWithVariations=function(a){var b=this;return this.promise(this.cache.productWithVariations[a]||$.ajax(""+this._getBaseCatalogSystemURL()+"/products/variations/"+a)).done(function(c){return b.setProductWithVariationsCache(a,c)})},a.prototype.setProductWithVariationsCache=function(a,b){return this.cache.productWithVariations[a]=b},a.prototype.getCurrentProductWithVariations=function(){var a,b,c;if(window.skuJson)return this.promise(window.skuJson);c=this.cache.productWithVariations;for(a in c)return b=c[a],this.promise(b)},a.prototype._getBaseCatalogSystemURL=function(){return b+"/api/catalog_system/pub"},a}(),window.vtexjs||(window.vtexjs={}),window.vtexjs.Catalog=a,window.vtexjs.catalog=new window.vtexjs.Catalog}.call(this),function(){var a,b,c,d,e,f,g,h,i,j=[].slice,k=function(a,b){return function(){return a.apply(b,arguments)}};f=function(a){return a.replace(/^\s+|\s+$/g,"")},b=function(a,b,c,d,e){var f,g,h,i,k,l,m,n;for(g={},m=a.split(b),k=0,l=m.length;l>k;k++)h=m[k],n=h.split(c),f=n[0],i=2<=n.length?j.call(n,1):[],g[d(f)]=e(i.join("="));return g},h=function(){return b(window.location.search.substring(1),"&","=",decodeURIComponent,decodeURIComponent)},g=function(a){return h()[a]},d=function(){return b(document.cookie,";","=",f,unescape)},c=function(a){return d()[a]},e=function(a,c){return b(c,"&","=",function(a){return a},unescape)[a]},(i=window.location).origin||(i.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),a=function(){function a(a){null==a&&(a={}),this._getGatewayCallbackURL=k(this._getGatewayCallbackURL,this),this._getProfileURL=k(this._getProfileURL,this),this._getPostalCodeURL=k(this._getPostalCodeURL,this),this._getSimulationURL=k(this._getSimulationURL,this),this._getOrdersURL=k(this._getOrdersURL,this),this._getRemoveGiftRegistryURL=k(this._getRemoveGiftRegistryURL,this),this._getUpdateSelectableGifts=k(this._getUpdateSelectableGifts,this),this._getUpdateItemURL=k(this._getUpdateItemURL,this),this._startTransactionURL=k(this._startTransactionURL,this),this._getAddCouponURL=k(this._getAddCouponURL,this),this._getItemAttachmentURL=k(this._getItemAttachmentURL,this),this._getBundleItemAttachmentURL=k(this._getBundleItemAttachmentURL,this),this._getRemoveOfferingsURL=k(this._getRemoveOfferingsURL,this),this._getAddOfferingsURL=k(this._getAddOfferingsURL,this),this._getSaveAttachmentURL=k(this._getSaveAttachmentURL,this),this._getOrderFormURL=k(this._getOrderFormURL,this),this._getOrderFormIdFromURL=k(this._getOrderFormIdFromURL,this),this._getOrderFormIdFromCookie=k(this._getOrderFormIdFromCookie,this),this._getOrderFormId=k(this._getOrderFormId,this),this.getChangeToAnonymousUserURL=k(this.getChangeToAnonymousUserURL,this),this.removeAccountId=k(this.removeAccountId,this),this.clearMessages=k(this.clearMessages,this),this.getOrders=k(this.getOrders,this),this.startTransaction=k(this.startTransaction,this),this.getProfileByEmail=k(this.getProfileByEmail,this),this.getAddressInformation=k(this.getAddressInformation,this),this.simulateShipping=k(this.simulateShipping,this),this.calculateShipping=k(this.calculateShipping,this),this.removeBundleItemAttachment=k(this.removeBundleItemAttachment,this),this.addBundleItemAttachment=k(this.addBundleItemAttachment,this),this.removeItemAttachment=k(this.removeItemAttachment,this),this.addItemAttachment=k(this.addItemAttachment,this),this.removeGiftRegistry=k(this.removeGiftRegistry,this),this.removeDiscountCoupon=k(this.removeDiscountCoupon,this),this.addDiscountCoupon=k(this.addDiscountCoupon,this),this.removeAllItems=k(this.removeAllItems,this),this.removeItems=k(this.removeItems,this),this.updateSelectableGifts=k(this.updateSelectableGifts,this),this.updateItems=k(this.updateItems,this),this.removeOffering=k(this.removeOffering,this),this.addOffering=k(this.addOffering,this),this.addOfferingWithInfo=k(this.addOfferingWithInfo,this),this.sendLocale=k(this.sendLocale,this),this.sendAttachment=k(this.sendAttachment,this),this.getOrderForm=k(this.getOrderForm,this),this._updateOrderForm=k(this._updateOrderForm,this),this._broadcastOrderFormUnlessPendingRequests=k(this._broadcastOrderFormUnlessPendingRequests,this),this._decreasePendingRequests=k(this._decreasePendingRequests,this),this._increasePendingRequests=k(this._increasePendingRequests,this),this._cacheOrderForm=k(this._cacheOrderForm,this),a.hostURL&&(b=a.hostURL),this.ajax=a.ajax?a.ajax:window.AjaxQueue?window.AjaxQueue($.ajax):$.ajax,this.promise=a.promise||$.when,this.CHECKOUT_ID="checkout",this.orderForm=void 0,this.orderFormId=void 0,this._pendingRequestCounter=0,this._urlToRequestMap={},this._allOrderFormSections=["items","totalizers","clientProfileData","shippingData","paymentData","sellers","messages","marketingData","clientPreferencesData","storePreferencesData","giftRegistryData","ratesAndBenefitsData","openTextField"]}var b,d;return b=window.location.origin,d={ORDER_FORM_UPDATED:"orderFormUpdated.vtex",REQUEST_BEGIN:"checkoutRequestBegin.vtex",REQUEST_END:"checkoutRequestEnd.vtex"},a.prototype._cacheOrderForm=function(a){return this.orderFormId=a.orderFormId,this.orderForm=a},a.prototype._increasePendingRequests=function(a){return this._pendingRequestCounter++,$(window).trigger(d.REQUEST_BEGIN,[a])},a.prototype._decreasePendingRequests=function(){return this._pendingRequestCounter--,$(window).trigger(d.REQUEST_END,arguments)},a.prototype._broadcastOrderFormUnlessPendingRequests=function(a){return 0===this._pendingRequestCounter?$(window).trigger(d.ORDER_FORM_UPDATED,[a]):void 0},a.prototype._orderFormHasExpectedSections=function(a,b){var c,d,e;if(!a||!a instanceof Object)return!1;for(d=0,e=b.length;e>d;d++)if(c=b[d],!a[c])return!1;return!0},a.prototype._updateOrderForm=function(a){var b,c,d=this;if(!(null!=a?a.url:void 0))throw new Error("options.url is required when sending request");return a.type||(a.type="POST"),a.contentType||(a.contentType="application/json; charset=utf-8"),a.dataType||(a.dataType="json"),this._increasePendingRequests(a),b=this.ajax(a),null!=(c=this._urlToRequestMap[a.url])&&c.abort(),this._urlToRequestMap[a.url]=b,b.always(function(){return delete d._urlToRequestMap[a.url]}),b.always(this._decreasePendingRequests),b.done(this._cacheOrderForm),b.done(this._broadcastOrderFormUnlessPendingRequests),b},a.prototype.getOrderForm=function(a){var b;return null==a&&(a=this._allOrderFormSections),this._orderFormHasExpectedSections(this.orderForm,a)?this.promise(this.orderForm):(b={expectedOrderFormSections:a},this._updateOrderForm({url:this._getBaseOrderFormURL(),data:JSON.stringify(b)}))},a.prototype.sendAttachment=function(a,b,c){var d;return null==c&&(c=this._allOrderFormSections),void 0===a||void 0===b?(d=$.Deferred(),d.reject("Invalid arguments"),d.promise()):(b.expectedOrderFormSections=c,this._updateOrderForm({url:this._getSaveAttachmentURL(a),data:JSON.stringify(b)}))},a.prototype.sendLocale=function(a){return null==a&&(a="pt-BR"),this.sendAttachment("clientPreferencesData",{locale:a},[])},a.prototype.addOfferingWithInfo=function(a,b,c,d){var e;return null==d&&(d=this._allOrderFormSections),e={id:a,info:b,expectedOrderFormSections:d},this._updateOrderForm({url:this._getAddOfferingsURL(c),data:JSON.stringify(e)})},a.prototype.addOffering=function(a,b,c){return this.addOfferingWithInfo(a,null,b,c)},a.prototype.removeOffering=function(a,b,c){var d;return null==c&&(c=this._allOrderFormSections),d={Id:a,expectedOrderFormSections:c},this._updateOrderForm({url:this._getRemoveOfferingsURL(b,a),data:JSON.stringify(d)})},a.prototype.updateItems=function(a,b){var c,d=this;return null==b&&(b=this._allOrderFormSections),c={orderItems:a,expectedOrderFormSections:b},void 0!==this._requestingItem&&this._requestingItem.abort(),this._requestingItem=this._updateOrderForm({url:this._getUpdateItemURL(),data:JSON.stringify(c)}).done(function(){return d._requestingItem=void 0})},a.prototype.updateSelectableGifts=function(a,b,c){var d,e=this;return null==c&&(c=this._allOrderFormSections),d={id:a,selectedGifts:b,expectedOrderFormSections:c},void 0!==this._requestingSelectableGifts&&this._requestingSelectableGifts.abort(),this._requestingSelectableGifts=this._updateOrderForm({url:this._getUpdateSelectableGifts(a),data:JSON.stringify(d)}).done(function(){return e._requestingSelectableGifts=void 0})},a.prototype.removeItems=function(a,b){var c,d,e;for(null==b&&(b=this._allOrderFormSections),d=0,e=a.length;e>d;d++)c=a[d],c.quantity=0;return this.updateItems(a,b)},a.prototype.removeAllItems=function(a){var b,c=this;return null==a&&(a=this._allOrderFormSections),b=this.getOrderForm(["items"]),b.then(function(b){var d,e,f,g;for(e=b.items,f=0,g=e.length;g>f;f++)d=e[f],d.quantity=0;return c.updateItems(e,a)})},a.prototype.addDiscountCoupon=function(a,b){var c;return null==b&&(b=this._allOrderFormSections),c={text:a,expectedOrderFormSections:b},this._updateOrderForm({url:this._getAddCouponURL(),data:JSON.stringify(c)})},a.prototype.removeDiscountCoupon=function(a){return this.addDiscountCoupon("",a)},a.prototype.removeGiftRegistry=function(a){var b;return null==a&&(a=this._allOrderFormSections),b={expectedOrderFormSections:a},this._updateOrderForm({url:this._getRemoveGiftRegistryURL(),data:JSON.stringify(b)})},a.prototype.addItemAttachment=function(a,b,c,d){var e;return null==d&&(d=this._allOrderFormSections),e={content:c,expectedOrderFormSections:d},this._updateOrderForm({url:this._getItemAttachmentURL(a,b),data:JSON.stringify(e)})},a.prototype.removeItemAttachment=function(a,b,c,d){var e;return null==d&&(d=this._allOrderFormSections),e={content:c,expectedOrderFormSections:d},this._updateOrderForm({url:this._getItemAttachmentURL(a,b),type:"DELETE",data:JSON.stringify(e)})},a.prototype.addBundleItemAttachment=function(a,b,c,d,e){var f;return null==e&&(e=this._allOrderFormSections),f={content:d,expectedOrderFormSections:e},this._updateOrderForm({url:this._getBundleItemAttachmentURL(a,b,c),data:JSON.stringify(f)})},a.prototype.removeBundleItemAttachment=function(a,b,c,d,e){var f;return null==e&&(e=this._allOrderFormSections),f={content:d,expectedOrderFormSections:e},this._updateOrderForm({url:this._getBundleItemAttachmentURL(a,b,c),type:"DELETE",data:JSON.stringify(f)})},a.prototype.calculateShipping=function(a){return this.sendAttachment("shippingData",{address:a})},a.prototype.simulateShipping=function(a,b,c){var d;return d={items:a,postalCode:b,country:c},this.ajax({url:this._getSimulationURL(),type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(d)})},a.prototype.getAddressInformation=function(a){return this.ajax({url:this._getPostalCodeURL(a.postalCode,a.country),type:"GET",timeout:2e4})},a.prototype.getProfileByEmail=function(a,b){return null==b&&(b=1),this.ajax({url:this._getProfileURL(),type:"GET",data:{email:a,sc:b}})},a.prototype.startTransaction=function(a,b,c,d,e,f){var g;return null==d&&(d=!1),null==e&&(e=!1),null==f&&(f=this._allOrderFormSections),g={referenceId:this._getOrderFormId(),savePersonalData:d,optinNewsLetter:e,value:a,referenceValue:b,interestValue:c,expectedOrderFormSections:f},this._updateOrderForm({url:this._startTransactionURL(),data:JSON.stringify(g)})},a.prototype.getOrders=function(a){return this.ajax({url:this._getOrdersURL(a),type:"GET",contentType:"application/json; charset=utf-8",dataType:"json"})},a.prototype.clearMessages=function(){var a;return a={expectedOrderFormSections:[]},this.ajax({url:this._getOrderFormURL()+"/messages/clear",type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(a)})},a.prototype.removeAccountId=function(a){var b;return b={expectedOrderFormSections:[]},this._updateOrderForm({url:this._getOrderFormURL()+"/paymentAccount/"+a+"/remove",data:JSON.stringify(b)})},a.prototype.getChangeToAnonymousUserURL=function(){return b+"/checkout/changeToAnonymousUser/"+this._getOrderFormId()},a.prototype.getLogoutURL=a.prototype.getChangeToAnonymousUserURL,a.prototype._getOrderFormId=function(){return this.orderFormId||this._getOrderFormIdFromCookie()||this._getOrderFormIdFromURL()||""},a.prototype._getOrderFormIdFromCookie=function(){var a,b,d;return a="checkout.vtex.com",b="__ofid",d=c(a),void 0===d||""===d?void 0:e(d,b)},a.prototype._getOrderFormIdFromURL=function(){return g("orderFormId")},a.prototype._getBaseOrderFormURL=function(){return b+"/api/checkout/pub/orderForm"},a.prototype._getOrderFormURL=function(){var a;if(a=this._getOrderFormId(),""===a)throw new Error("This method requires an OrderForm. Use getOrderForm beforehand.");return""+this._getBaseOrderFormURL()+"/"+a},a.prototype._getSaveAttachmentURL=function(a){return this._getOrderFormURL()+"/attachments/"+a},a.prototype._getAddOfferingsURL=function(a){return this._getOrderFormURL()+"/items/"+a+"/offerings"},a.prototype._getRemoveOfferingsURL=function(a,b){return this._getOrderFormURL()+"/items/"+a+"/offerings/"+b+"/remove"},a.prototype._getBundleItemAttachmentURL=function(a,b,c){return this._getOrderFormURL()+"/items/"+a+"/bundles/"+b+"/attachments/"+c},a.prototype._getItemAttachmentURL=function(a,b){return this._getOrderFormURL()+"/items/"+a+"/attachments/"+b},a.prototype._getAddCouponURL=function(){return this._getOrderFormURL()+"/coupons"},a.prototype._startTransactionURL=function(){return this._getOrderFormURL()+"/transaction"},a.prototype._getUpdateItemURL=function(){return this._getOrderFormURL()+"/items/update/"},a.prototype._getUpdateSelectableGifts=function(a){return this._getOrderFormURL()+"/selectable-gifts/"+a},a.prototype._getRemoveGiftRegistryURL=function(){return this._getBaseOrderFormURL()+("/giftRegistry/"+this._getOrderFormId()+"/remove")},a.prototype._getOrdersURL=function(a){return b+"/api/checkout/pub/orders/order-group/"+a},a.prototype._getSimulationURL=function(){return b+"/api/checkout/pub/orderForms/simulation"},a.prototype._getPostalCodeURL=function(a,c){return null==a&&(a=""),null==c&&(c="BRA"),b+"/api/checkout/pub/postal-code/"+c+"/"+a},a.prototype._getProfileURL=function(){return b+"/api/checkout/pub/profiles/"},a.prototype._getGatewayCallbackURL=function(){return b+"/checkout/gatewayCallback/{0}/{1}/{2}"},a}(),window.vtexjs||(window.vtexjs={}),window.vtexjs.Checkout=a,window.vtexjs.checkout=new window.vtexjs.Checkout}.call(this);
//# sourceMappingURL=vtex.min.js.map